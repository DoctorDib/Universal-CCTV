<html>
    <head>
        <link rel="icon" href='""" + data["main_location"] + """/pic/webcam.png'>
        <title>Camera Surveillance</title>

        <style>
            /* Optional: Add some styling to center the slider */
            body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                
                margin: 0;
            }
            
            #slider {
                width: 100%;
                height: 100px;
                position: fixed;
                bottom: 0;
            }
        </style>

        <script>
            let seconds = 30;

            function changeBackground() {
                let date = new Date(), hours = date.getHours();
                if (hours > 18 || hours < 6) {
                    // Night time
                    document.querySelector('body').style.background = "#252525";
                } else {
                    // Day time
                    document.querySelector('body').style.background = "#dedede";
                }
            }

            window.onload = function(){
                changeBackground(); // initial
                setInterval(changeBackground, seconds*1000);
            };
        </script>
    </head>
    <body style="overflow:hidden;">
        <input type="range" id="slider" min="0" max="100" value="50" step="10">

        <img style="width:100%;" src="stream.mjpg" />


        <script>
            // Function to handle slider value changes
            function handleSliderChange() {
                
              // Get the slider value
              var sliderValue = document.getElementById("slider").value;

              console.log("Slider toL ");
              console.log(sliderValue);
        
              // Construct the URL with the slider value
              var url = "http://192.168.0.21:5000/move/" + sliderValue;
        
              // Log the constructed URL (you can replace this with an actual AJAX request)
              console.log("Slider Value: " + sliderValue);
              console.log("Request URL: " + url);
        
              fetch(url, {
                method: 'GET',
              })
              .then(response => response.json())
              .then(data => {
                // Handle the response if needed
                console.log(data);
              })
              .catch(error => {
                console.error('Error:', error);
              });
            }
        
            // Attach the handleSliderChange function to the slider's input event
            document.getElementById("slider").addEventListener("input", handleSliderChange);
          </script>
    </body>
</html>